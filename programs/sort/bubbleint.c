#include "../syscalls/syscalls.h"
#include <stdio.h>

void swap(int *arr, int i, int j) {
  int temp = arr[i];
  arr[i] = arr[j];
  arr[j] = temp;
}

void bubble_sort(int arr[], int n) {
  for (int i = 0; i < n; i++) {
    for (int j = 0; j < n - i - 1; j++) {
      if (arr[j] > arr[j + 1])
        swap(arr, j, j + 1);
    }
  }
}

void assert_is_sorted(int *arr, int n) {
  for (int i = 0; i < n - 1; i++) {
    if (arr[i] > arr[i + 1]) {
      svc_puts("Array is not sorted\n");
      svc_exit(1);
      return;
    }
  }
  svc_puts("Array is sorted\n");
}

int main() {
  int arr[] = {
      -1,    -2,    1,     -3846, -8960, -4841, 786,   -9604, 5179,  1866,
      438,   77,    -1647, -9748, -1227, -1719, -407,  3955,  -4380, 6816,
      8491,  1677,  -914,  1950,  -8425, 3290,  779,   -1803, -8954, -2278,
      -1735, -2077, -9968, -2032, -5133, 548,   948,   9999,  -4208, -3715,
      3273,  -8300, -8085, -8186, -9183, 1904,  8096,  8665,  -7219, 7066,
      -5825, -364,  2193,  -3335, 1238,  -6743, -6325, 1914,  -2737, 166,
      -2982, 9186,  5276,  -1634, -3272, -8131, -993,  1600,  -7586, -1533,
      -6711, 3682,  -8778, -9372, -8632, -7141, -3147, -1303, -4300, 5455,
      -6878, -3417, 9466,  7659,  4312,  -4558, -3218, -171,  9319,  5745,
      5340,  -8434, 5858,  623,   5248,  5549,  1750,  -9186, 2941,  -3107,
      -3251, 3925,  -2266, -4191, 2042,  8166,  -8479, -8842, 1755,  4008,
      -1541, 2266,  -7847, 798,   -5457, -6836, 2309,  -6406, 678,   4706,
      -2058, 7548,  5913,  8933,  9479,  -5553, -9871, -6874, -1211, 7845,
      8637,  8731,  3868,  9790,  -6188, 3314,  -3888, 3176,  -6370, -9641,
      -9268, 4771,  2316,  2796,  -6052, -8954, -49,   -7084, -3314, 9112,
      -3242, 4922,  5824,  -5534, -6861, -4418, 4701,  423,   -7703, 146,
      -2653, -5101, -9927, -139,  2646,  3590,  5216,  4190,  -7600, -1476,
      4803,  8856,  -4326, 657,   9720,  1442,  7127,  -7730, 4798,  8189,
      -6096, -1537, -8811, -6426, -6183, -8344, 252,   2259,  7503,  2217,
      69,    8906,  -9048, 9626,  709,   817,   -7402, -6135, -6708, -8638,
      4783,  -4335, 5478,  713,   -12,   -212,  -1392, 7060,  1110,  9202,
      2559,  -3283, -1993, 3214,  -4942, -4155, 533,   2101,  458,   -4867,
      5989,  2230,  -7190, 8197,  -3048, -6822, 6071,  -5661, -1600, -541,
      -3014, 915,   -2439, -8865, -3416, 5368,  9503,  5078,  -4373, -4515,
      9939,  8088,  -3043, -9672, -3259, 9600,  -7550, 9185,  5567,  -868,
      9802,  -9426, -1478, -8985, 7604,  2704,  2330,  -6807, 9361,  1860,
      -5152, -821,  260,   768,   -9776, 2942,  9603,  -4876, -2756, -9751,
      4024,  5804,  -1615, -9339, 6960,  9158,  -8875, 8231,  -8305, -4436,
      2538,  1106,  7323,  -3718, -9454, 3501,  2326,  8984,  9497,  -2347,
      -8558, -7924, -5890, 2305,  -4893, 519,   8795,  8050,  -8069, -9036,
      1145,  -6882, 6753,  8388,  -7325, 1380,  3387,  4025,  5030,  5150,
      -9621, 8575,  -5836, 3405,  -5762, 7381,  -9255, 569,   -4923, -9269,
      5319,  302,   -288,  8604,  4333,  -1217, -6686, 4436,  -8033, -2651,
      -9505, 6480,  8713,  -851,  2568,  -9841, -4459, 3420,  -3850, -7576,
      2359,  -8767, -8043, 6193,  218,   -4648, -2817, -3488, 9012,  4195,
      -519,  3609,  726,   -1568, 9704,  -1219, -7385, 5193,  -1363, -4676,
      -3845, -9537, -5971, 8303,  -8481, -3667, -4093, 5854,  -2028, -1380,
      -4750, 5794,  -4625, -1350, 6036,  3852,  -1711, 9042,  -9724, -9136,
      691,   9061,  7543,  3650,  3492,  4618,  -9812, -1797, 806,   -3028,
      42,    -3731, 1657,  136,   3066,  -7635, -970,  3521,  -5897, -4780,
      5320,  -6355, 5145,  -6527, 5720,  -832,  4486,  3702,  -7933, 4576,
      -5974, 805,   1542,  6056,  -3231, 7961,  -9328, 6672,  2968,  7675,
      6019,  -7163, -7467, -360,  -363,  9388,  3730,  9822,  -4300, 4035,
      6625,  -5865, 423,   -2099, 5603,  -7555, 224,   8328,  -2516, 4846,
      -8566, 9192,  -5557, -9144, 5470,  -8589, -9135, 2396,  -2027, 9477,
      -9862, -4316, -9511, 5099,  9111,  3139,  7953,  5238,  -1423, -9349,
      2164,  7663,  168,   4231,  496,   -1909, -6612, -5968, 5755,  -4285,
      -7734, -2291, 1795,  -4715, 6191,  7586,  6602,  -7977, 2376,  -7855,
      9161,  3547,  -8611, -4033, 9366,  8017,  9879,  8581,  -9213, -8362,
      -4670, 1507,  7765,  -568,  9015,  -746,  506,   2592,  3589,  -7254,
      5438,  -9526, -7309, 5696,  -8899, -1502, 9791,  -8134, -96,   -6537,
      5144,  9664,  -7212, 2716,  7783,  6188,  -106,  9892,  -3942, -1337,
      -1884, -739,  -3992, -1009, -3552, 6124,  -7358, -5983, -4537, 1414,
      9030,  2926,  9440,  4136,  6322,  1444,  4656,  -8668, -5651, -2370,
      -3419, 3753,  -4757, -2465, 558,   7812,  -8670, 1776,  8657,  3982,
      -8496, 5280,  5556,  5970,  -438,  4186,  -5719, 7474,  -8186, -2692,
      6634,  9380,  -7366, 3732,  -2711, -8122, 1517,  -3150, 1698,  -6526,
      -1194, 3568,  -2458, -1651, 559,   -2363, -4864, 4284,  6451,  -3637,
      -3819, -2955, 9882,  5309,  -4518, -719,  2387,  7467,  6919,  -2793,
      7401,  9312,  4499,  -9612, -1852, -2356, 9330,  1092,  855,   -6328,
      5292,  -2777, 9579,  7956,  -810,  5237,  3956,  6848,  3670,  -4813,
      -616,  -9884, -4358, -9678, 7685,  -1878, -7528, 9325,  -9662, -6768,
      2561,  -9612, -5273, 9547,  1800,  652,   9664,  -2024, 7484,  2930,
      9868,  8850,  -4565, 8559,  8334,  6104,  -7055, 5908,  5848,  -126,
      4475,  8182,  -8765, -3942, -4213, -7717, 8642,  -5492, 6518,  -249,
      -6878, 258,   -6014, -8147, -4609, -5196, -9349, 4327,  4900,  3864,
      2208,  -6322, -7274, -6407, -5685, 9797,  3606,  -5258, -1810, 542,
      2655,  5171,  5609,  -9505, -5385, 4807,  -6461, 3899,  9218,  3155,
      -6301, 1114,  -7430, 5239,  -1098, 8669,  3892,  8862,  -6630, -5839,
      -6560, 1567,  3507,  -6721, -8185, -9765, -2852, 5125,  211,   -4252,
      6680,  2681,  4773,  -5326, 6146,  -7692, 3075,  -3803, 1619,  520,
      -9647, -8418, -3374, -9992, 1018,  2082,  -782,  -347,  -7046, -5009,
      7637,  7242,  3517,  -9728, 3499,  -586,  -1904, -8512, -5603, 9453,
      8014,  7691,  -6498, -6885, -6421, -8696, -8854, -5837, 8754,  2453,
      4266,  -4464, 2411,  305,   7448,  415,   -5090, 9340,  2430,  9106,
      5044,  9333,  5338,  -5822, 9564,  2101,  5403,  2540,  -2798, 8094,
      -986,  1672,  -1471, -3204, 6660,  -5557, -1345, -6568, -2244, -1959,
      -8909, 3051,  2228,  -1028, 7448,  -1457, -8041, 6203,  7284,  1270,
      -5531, 277,   497,   -460,  630,   -8674, 1921,  -2800, 699,   -3492,
      -8577, 8010,  -7378, -7549, -3839, -6142, -8187, -6135, 7716,  -724,
      4144,  -3976, -2302, 8756,  9188,  -7977, -7290, 2445,  8555,  6570,
      -3438, 6870,  -8968, 1112,  -8341, 8263,  2048,  -6439, -7797, 692,
      4044,  2559,  -3543, 3112,  -6486, 8130,  -8172, 9399,  -2381, 6547,
      -6907, 9687,  -9992, 2347,  6884,  -4641, 2293,  3746,  7839,  -2877,
      5186,  9308,  -9269, -3010, 2742,  2217,  -5960, -1213, -4299, 9659,
      -3545, 6450,  7183,  1011,  5388,  3811,  -2610, -4815, 835,   -3462,
      -5847, 3679,  5536,  -6335, 5087,  -7522, 3874,  -1735, 179,   -8300,
      2146,  -3578, -6282, 8524,  7465,  -5190, 5047,  6259,  -1782, 1048,
      -1961, -5565, 9262,  5456,  -328,  7121,  7028,  833,   3898,  -6649,
      1579,  -5006, -4916, -9756, -1822, -6320, -7858, 9014,  1603,  8466,
      4196,  -1395, -8499, -5632, -5299, 2392,  1334,  -385,  5253,  2488,
      -5170, 9150,  -4252, -5881, 5143,  -2325, 196,   9562,  5235,  3193,
      1175,  3531,  9477,  -3864, -2011, -2208, 7657,  -8868, 2458,  -3582,
      -9238, 8985,  4681,  5442,  -1383, -6211, -5963, -3200, 6890,  -1459,
      3882,  -6915, -7964, -6807, -8097, -7844, -3219, -7105, -4266, -8855,
      -5065, 965,   -1287, -5444, 9350,  3558,  -4957, -3063, 6116,  -8920,
      7995,  -1636, -6970, 5845,  2365,  9761,  -6776, -460,  -9509, 6806,
      5642,  8264,  5279,  7836,  7144,  5670,  3671,  -4361, 8341,  -7450,
      9510,  -9358, -1519, 223,   5355,  7802,  -1649, 7502,  -3149, 8908,
      5506,  749,   9887,  6075,  1139,  5082,  -8168, -3287, 1149,  -2676};
  unsigned len = sizeof(arr) / sizeof(arr[0]);
  bubble_sort(arr, len);
  assert_is_sorted(arr, len);

  svc_exit(0);
}