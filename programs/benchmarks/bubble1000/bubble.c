#include "../../syscalls/syscalls.h"
#include <stdio.h>

void swap(char *arr, int i, int j) {
  char temp = arr[i];
  arr[i] = arr[j];
  arr[j] = temp;
}

void bubble_sort(char arr[], int n) {
  for (int i = 0; i < n; i++) {
    for (int j = 0; j < n - i - 1; j++) {
      if (arr[j] > arr[j + 1])
        swap(arr, j, j + 1);
    }
  }
}

void assert_is_sorted(char *arr, int n) {
  for (int i = 0; i < n - 1; i++) {
    if (arr[i] > arr[i + 1]) {
      svc_puts("Array is not sorted\n");
      svc_exit(1);
      return;
    }
  }
  svc_puts("Array is sorted\n");
}

int main() {
  char arr[] = {
      103, 69,  206, 167, 104, 212, 96,  243, 16,  48,  25,  85,  3,   110, 76,
      84,  209, 114, 39,  46,  149, 92,  56,  71,  111, 185, 27,  135, 220, 48,
      225, 58,  176, 18,  0,   123, 52,  80,  48,  108, 217, 14,  104, 13,  187,
      11,  25,  95,  127, 181, 219, 123, 155, 196, 62,  34,  76,  253, 129, 91,
      219, 198, 214, 207, 182, 163, 244, 233, 68,  99,  35,  154, 196, 4,   136,
      87,  155, 48,  67,  44,  144, 2,   112, 177, 233, 143, 112, 46,  205, 153,
      74,  24,  151, 24,  242, 242, 133, 153, 250, 207, 17,  225, 8,   105, 188,
      89,  6,   135, 142, 48,  98,  179, 66,  231, 238, 217, 72,  92,  119, 242,
      158, 48,  155, 183, 57,  54,  89,  129, 43,  165, 153, 188, 201, 106, 225,
      134, 239, 188, 6,   103, 59,  86,  253, 133, 223, 148, 242, 47,  238, 212,
      97,  240, 62,  122, 243, 75,  247, 93,  249, 151, 181, 12,  182, 231, 13,
      62,  190, 83,  143, 194, 165, 141, 5,   219, 241, 72,  46,  75,  134, 148,
      225, 60,  60,  222, 179, 126, 84,  191, 104, 201, 25,  42,  191, 50,  21,
      36,  77,  159, 122, 101, 164, 220, 173, 143, 11,  11,  217, 0,   167, 134,
      165, 234, 78,  117, 103, 199, 147, 90,  134, 177, 91,  176, 102, 93,  72,
      118, 11,  89,  42,  42,  190, 244, 136, 151, 21,  133, 190, 76,  59,  113,
      142, 117, 36,  6,   191, 222, 208, 68,  75,  249, 25,  250, 137, 55,  63,
      65,  240, 167, 11,  168, 224, 92,  123, 99,  91,  55,  113, 190, 196, 1,
      249, 159, 231, 18,  186, 17,  101, 225, 142, 140, 171, 62,  172, 85,  193,
      128, 174, 198, 221, 228, 120, 112, 3,   31,  214, 86,  117, 251, 72,  164,
      152, 251, 170, 190, 246, 205, 117, 172, 14,  55,  254, 63,  93,  190, 156,
      235, 62,  93,  174, 129, 18,  8,   92,  76,  8,   9,   12,  16,  125, 101,
      132, 241, 29,  162, 65,  97,  250, 209, 136, 166, 245, 158, 108, 120, 222,
      73,  30,  189, 161, 44,  45,  124, 48,  251, 35,  117, 204, 196, 200, 225,
      206, 96,  227, 100, 150, 37,  19,  178, 203, 73,  117, 155, 148, 134, 181,
      77,  16,  38,  238, 238, 43,  98,  198, 30,  178, 203, 249, 54,  19,  148,
      135, 76,  225, 216, 203, 100, 92,  29,  80,  162, 232, 56,  48,  186, 254,
      133, 75,  153, 132, 71,  225, 223, 253, 120, 161, 67,  183, 36,  226, 184,
      59,  128, 203, 158, 167, 252, 185, 21,  173, 114, 41,  6,   199, 233, 232,
      117, 96,  156, 68,  144, 18,  83,  71,  29,  35,  124, 167, 216, 193, 119,
      147, 179, 242, 35,  32,  83,  130, 165, 80,  33,  225, 146, 132, 88,  241,
      54,  4,   2,   78,  254, 144, 43,  209, 177, 212, 180, 32,  148, 47,  248,
      18,  56,  180, 226, 162, 219, 35,  195, 57,  45,  232, 76,  132, 70,  92,
      25,  82,  14,  162, 127, 129, 142, 228, 168, 61,  230, 202, 67,  72,  131,
      202, 250, 205, 174, 49,  19,  38,  130, 185, 145, 43,  45,  247, 125, 127,
      151, 93,  113, 126, 40,  234, 21,  32,  250, 205, 73,  48,  134, 193, 37,
      162, 48,  160, 198, 250, 221, 241, 167, 236, 152, 196, 35,  93,  38,  187,
      152, 120, 56,  225, 230, 70,  246, 53,  18,  2,   12,  45,  131, 69,  41,
      207, 164, 205, 153, 62,  139, 103, 128, 92,  50,  127, 3,   92,  196, 226,
      251, 56,  231, 38,  111, 11,  60,  215, 217, 153, 24,  149, 192, 112, 132,
      186, 148, 177, 249, 94,  47,  34,  221, 175, 162, 220, 172, 68,  87,  189,
      115, 175, 190, 190, 233, 4,   78,  82,  78,  19,  154, 136, 153, 140, 155,
      169, 116, 67,  79,  224, 119, 136, 34,  39,  72,  155, 27,  195, 22,  96,
      78,  71,  21,  55,  6,   156, 244, 104, 16,  42,  124, 19,  155, 50,  44,
      99,  53,  89,  156, 178, 56,  216, 169, 161, 157, 145, 233, 50,  150, 237,
      24,  154, 198, 135, 179, 188, 102, 84,  166, 252, 119, 80,  42,  231, 138,
      179, 12,  39,  22,  12,  190, 178, 26,  109, 243, 233, 151, 226, 157, 162,
      116, 228, 136, 69,  87,  57,  41,  189, 142, 157, 177, 231, 140, 59,  203,
      106, 114, 182, 201, 82,  47,  104, 207, 108, 158, 199, 101, 213, 131, 225,
      94,  210, 13,  34,  237, 249, 73,  39,  28,  99,  181, 4,   222, 98,  103,
      166, 94,  219, 97,  95,  130, 249, 196, 86,  147, 102, 208, 164, 176, 141,
      76,  147, 174, 192, 54,  16,  148, 190, 62,  144, 37,  176, 228, 2,   29,
      101, 154, 181, 32,  101, 35,  163, 112, 222, 112, 11,  71,  254, 124, 149,
      199, 232, 87,  215, 167, 141, 7,   180, 114, 90,  113, 116, 198, 102, 142,
      37,  56,  42,  117, 25,  110, 20,  209, 210, 32,  82,  199, 233, 184, 232,
      104, 29,  203, 152, 202, 169, 181, 208, 99,  75,  234, 244, 122, 134, 245,
      182, 197, 197, 136, 75,  150, 197, 87,  137, 250, 248, 74,  37,  229, 81,
      231, 51,  26,  83,  78,  183, 236, 42,  214, 246, 82,  72,  141, 9,   228,
      236, 203, 41,  89,  235, 241, 189, 164, 146, 103, 24,  249, 197, 224, 149,
      56,  16,  95,  170, 230, 116, 146, 198, 155, 119, 88,  124, 51,  5,   13,
      152, 177, 94,  22,  37,  21,  68,  72,  148, 176, 136, 171, 72,  109, 79,
      96,  33,  12,  57,  123, 206, 137, 69,  116, 79,  139, 51,  164, 36,  169,
      242, 28,  89,  250, 55,  77,  166, 152, 239, 5,   87,  88,  38,  174, 76,
      123, 135, 153, 48,  230, 165, 201, 246, 63,  33,  179, 80,  33,  137, 33,
      130, 126, 76,  142, 44,  20,  188, 15,  166, 75,  250, 1,   222, 156, 124,
      128, 80,  246, 87,  99,  184, 55,  9,   179, 148, 81,  76,  61,  164, 114,
      107, 243, 10,  242, 169, 171, 97,  179, 180, 72};
  unsigned len = sizeof(arr) / sizeof(arr[0]);
  bubble_sort(arr, len);
  assert_is_sorted(arr, len);

  svc_exit(arr[0]);
}